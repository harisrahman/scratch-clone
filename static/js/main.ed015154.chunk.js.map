{"version":3,"sources":["contexts/CodeContext.ts","components/Block.tsx","components/Icon.tsx","components/blocks/Rotate.tsx","components/blocks/Move.tsx","components/blocks/Event.tsx","components/Palette.tsx","helpers.ts","components/CodeEditor.tsx","components/CatSprite.tsx","components/Stage.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["CodeContext","createContext","code","setCode","console","warn","useCode","useContext","colors","event","motion","Block","props","blockRef","useRef","ref","className","type","draggable","onDragStart","e","isOnEditor","el","current","childIndex","Array","from","parentNode","children","indexOf","dataTransfer","setData","String","index","Icon","name","size","width","toString","height","xlinkHref","Rotate","value","rotate","regex","style","transform","match","newSum","parseInt","replace","this","Math","abs","key","React","Component","Move","translateX","Event","trigger","availableBlocks","Palette","render","childrenArr","parent","slice","call","runCode","start","forEach","block","child","run","CodeEditor","stageRef","blockContainer","onDrop","blockIndex","getData","dragIndex","oldIndex","newIndex","draggedElIndex","y","closest","Number","POSITIVE_INFINITY","box","getBoundingClientRect","offset","top","getChangeToElementIndex","clientY","arr","fromIndex","toIndex","element","copy","splice","arrayMove","onDragOver","preventDefault","onClick","removeProperty","map","CatSprite","xmlns","viewBox","version","xmlSpace","id","stroke","fillRule","d","strokeWidth","fill","strokeLinecap","strokeLinejoin","PreviewArea","useState","clone","setClone","sprites","i","push","App","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ed015154.chunk.js","sourcesContent":["import { createContext, useContext } from 'react';\r\nimport { CodeContextType } from '../Types';\r\n\r\nexport const CodeContext = createContext<CodeContextType>({\r\n\tcode: [],\r\n\tsetCode: code => console.warn('no code yet')\r\n});\r\n\r\nexport const useCode = (): CodeContextType => useContext(CodeContext);\r\n","import React, { useRef } from \"react\";\n\nimport { BlockProps, BlockType } from '../Types';\n\nconst colors: BlockType = {\n\tevent: \"bg-yellow-500 text-white\",\n\tmotion: \"bg-blue-500 text-white\"\n}\n\nexport default function Block(props: BlockProps)\n{\n\tconst blockRef = useRef<HTMLDivElement>(null);\n\n\tconst dragStartHandler = (e: React.DragEvent) =>\n\t{\n\t\tif (props.isOnEditor)\n\t\t{\n\t\t\tconst el = blockRef.current;\n\n\t\t\tif (el === null) return;\n\n\t\t\tconst childIndex = Array.from(el.parentNode!.children).indexOf(el);\n\t\t\te.dataTransfer.setData(\"drag_index\", String(childIndex));\n\t\t}\n\t\telse\n\t\t{\n\t\t\te.dataTransfer.setData(\"block_index\", String(props.index));\n\t\t}\n\t}\n\n\treturn (\n\t\t<div ref={blockRef} className={`flex flex-row flex-wrap px-2 py-1 my-2 text-sm cursor-move ${colors[props.type]}`} draggable=\"true\" onDragStart={dragStartHandler}>\n\t\t\t{props.children}\n\t\t</div>\n\t);\n}\n","export default function Icon({ name, size = 20, className = \"\" }: { name: string, size: number, className: string })\n{\n\treturn (\n\t\t<svg\n\t\t\tclassName={`fill-current ${className}`}\n\t\t\twidth={size.toString() + \"px\"}\n\t\t\theight={size.toString() + \"px\"}\n\t\t>\n\t\t\t<use xlinkHref={`icons/solid.svg#${name}`} />\n\t\t</svg>\n\t);\n}\n","import React from \"react\";\nimport { MotionBlockProps, Runnable } from '../../Types';\n// import {  } from '../../helpers';\nimport Block from '../Block';\nimport Icon from '../Icon';\n\nexport default class Rotate extends React.Component<MotionBlockProps> implements Runnable\n{\n\trun(value: number, el: HTMLDivElement)\n\t{\n\t\tlet current_val = 0;\n\t\tlet rotate = `rotate(${value}deg)`;\n\t\tconst regex = el.style.transform.match(/rotate\\((-?\\d+)deg\\)/i);\n\n\t\tif (regex && 1 in regex)\n\t\t{\n\t\t\tcurrent_val = parseInt(regex[1]);\n\t\t\tconst newSum = current_val + value;\n\t\t\trotate = el.style.transform.replace(/(rotate\\()(-?\\d+)(deg\\))/i, `$1${newSum}$3`);\n\t\t\tel.style.transform = rotate;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tel.style.transform += rotate;\n\t\t}\n\t}\n\n\trender()\n\t{\n\t\treturn (\n\t\t\t<Block type=\"motion\" value={this.props.value} index={this.props.index} key={this.props.key} isOnEditor={this.props.isOnEditor}>\n\t\t\t\tTurn\n\t\t\t\t<Icon name={this.props.value > 0 ? \"redo\" : \"undo\"} size={15} className=\"text-white mx-2\" />\n\t\t\t\t{Math.abs(this.props.value)} degrees\n\t\t\t</Block>\n\t\t);\n\t}\n}\n","import React from \"react\";\nimport { MotionBlockProps, Runnable } from '../../Types';\nimport Block from '../Block';\n\nexport default class Move extends React.Component<MotionBlockProps> implements Runnable\n{\n\trun(value: number, el: HTMLDivElement)\n\t{\n\t\tlet current_val = 0;\n\t\tlet translateX = `translateX(${value}px)`;\n\t\tconst regex = el.style.transform.match(/translateX\\((-?\\d+)px\\)/i);\n\n\t\tif (regex && 1 in regex)\n\t\t{\n\t\t\tcurrent_val = parseInt(regex[1]);\n\t\t\tconst newSum = current_val + value;\n\t\t\ttranslateX = el.style.transform.replace(/(translateX\\()(-?\\d+)(px\\))/i, `$1${newSum}$3`);\n\n\t\t\tel.style.transform = translateX;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tel.style.transform += translateX;\n\t\t}\n\t}\n\n\trender()\n\t{\n\t\treturn (\n\t\t\t<Block type=\"motion\" value={this.props.value} index={this.props.index} key={this.props.key} isOnEditor={this.props.isOnEditor}>\n\t\t\t\tMove 10 steps\n\t\t\t</Block>\n\t\t);\n\t}\n}\n","import React from \"react\";\nimport { EventBlockProps } from '../../Types';\nimport Block from '../Block';\nimport Icon from '../Icon';\n\nexport default class Event extends React.Component<EventBlockProps>\n{\n\trender()\n\t{\n\t\treturn (\n\t\t\t<Block type=\"event\" trigger={this.props.trigger} index={this.props.index} key={this.props.key} isOnEditor={this.props.isOnEditor}>\n\t\t\t\tWhen\n\t\t\t\t{ this.props.trigger === \"sprite\" ? \" sprite \" : (<Icon name=\"flag\" size={15} className=\"text-green-600 mx-2\" />)}\n\t\t\t\tclicked\n\t\t\t</Block>\n\t\t);\n\t}\n}\n","import { BlockComponent } from '../Types';\nimport Rotate from \"./blocks/Rotate\";\nimport Move from \"./blocks/Move\";\nimport Event from \"./blocks/Event\";\n\nexport const availableBlocks: BlockComponent[] = [\n\t(key, isOnEditor) => new Event({ index: 0, key: key, type: \"event\", trigger: \"flag\", isOnEditor: isOnEditor }),\n\t(key, isOnEditor) => new Event({ index: 1, key: key, type: \"event\", trigger: \"sprite\", isOnEditor: isOnEditor }),\n\t(key, isOnEditor) => new Move({ index: 2, key: key, type: \"motion\", value: 10, isOnEditor: isOnEditor }),\n\t(key, isOnEditor) => new Rotate({ index: 3, key: key, type: \"motion\", value: 15, isOnEditor: isOnEditor }),\n\t(key, isOnEditor) => new Rotate({ index: 4, key: key, type: \"motion\", value: -15, isOnEditor: isOnEditor }),\n];\n\nexport default function Palette()\n{\n\treturn (\n\t\t<div className=\"w-60 flex-none h-full overflow-y-auto flex flex-col items-start p-2 border-r border-gray-200\">\n\t\t\t<div className=\"font-bold\">Events</div>\n\t\t\t{availableBlocks[0](0).render()}\n\t\t\t{availableBlocks[1](1).render()}\n\t\t\t<div className=\"font-bold\">Motion</div>\n\t\t\t{availableBlocks[2](2).render()}\n\t\t\t{availableBlocks[3](3).render()}\n\t\t\t{availableBlocks[4](4).render()}\n\t\t</div>\n\t);\n}\n","import { BlockComponent, MotionBlockProps } from './Types';\n\nexport const setArrayObjProp = <T extends {}>(obj: T[], index: number, prop: any, newValue: any): T[] =>\n{\n\tif (obj.length > 0)\n\t{\n\t\tobj = obj.map((el, i) =>\n\t\t{\n\t\t\tif (index === i)\n\t\t\t{\n\t\t\t\t(el as any)[prop] = newValue;\n\t\t\t}\n\t\t\treturn el;\n\t\t});\n\t}\n\treturn obj;\n}\nconst childrenArr = (parent: HTMLElement) =>\n{\n\tconst children: HTMLElement[] = [].slice.call(parent!.children);\n\treturn children;\n}\n\n\n\nexport const getChangeToElementIndex = (parent: HTMLDivElement, draggedElIndex: number, y: number): number =>\n{\n\tlet newIndex = draggedElIndex;\n\tlet closest = Number.POSITIVE_INFINITY;\n\n\tconst children = childrenArr(parent);\n\n\tchildren.forEach((child, index) =>\n\t{\n\t\tif (index === draggedElIndex) return;\n\n\t\tconst box = child.getBoundingClientRect();\n\t\tconst offset = Math.abs(y - box.top);\n\n\t\tif (offset < closest)\n\t\t{\n\t\t\tclosest = offset;\n\t\t\tnewIndex = index;\n\t\t}\n\t})\n\n\treturn newIndex;\n}\n\nexport const runCode = (code: number[], availableBlocks: BlockComponent[], trigger: string, ref: React.RefObject<HTMLDivElement>) =>\n{\n\tlet start = false;\n\n\tcode.forEach(index =>\n\t{\n\t\tconst block = availableBlocks[index](index);\n\n\t\tif (block.props.type === \"event\")\n\t\t{\n\t\t\tif (block.props.trigger === trigger)\n\t\t\t{\n\t\t\t\tstart = true;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (start && ref.current)\n\t\t{\n\t\t\tconst children = childrenArr(ref.current);\n\n\t\t\tchildren.forEach((child, index) =>\n\t\t\t{\n\t\t\t\t(block as any).run((block.props as MotionBlockProps).value, child);\n\t\t\t})\n\t\t}\n\t})\n}\n\nexport const arrayMove = (arr: any[], fromIndex: number, toIndex: number) =>\n{\n\tconst element = arr[fromIndex];\n\tconst copy = arr.slice();\n\tcopy.splice(fromIndex, 1);\n\tcopy.splice(toIndex, 0, element);\n\n\treturn copy;\n}\n","import React, { useRef } from \"react\";\nimport { useCode } from '../contexts/CodeContext';\nimport { forwardedRefProp } from '../Types';\nimport { availableBlocks } from \"./Palette\";\nimport Icon from \"./Icon\";\nimport { runCode, getChangeToElementIndex, arrayMove } from \"../helpers\";\n\nexport default function CodeEditor({ stageRef }: forwardedRefProp)\n{\n\tconst { code, setCode } = useCode();\n\tconst blockContainer = useRef<HTMLDivElement>(null);\n\n\tconst dragEndHandler = (e: React.DragEvent) =>\n\t{\n\t\te.preventDefault();\n\t}\n\n\tconst dropHandler = (e: React.DragEvent) =>\n\t{\n\t\tconst blockIndex = e.dataTransfer.getData(\"block_index\");\n\t\tconst dragIndex = e.dataTransfer.getData(\"drag_index\");\n\n\t\tif (blockIndex)\n\t\t{\n\t\t\tsetCode([...code, parseInt(blockIndex)]);\n\t\t}\n\t\telse if (dragIndex && blockContainer.current)\n\t\t{\n\t\t\tconst oldIndex = parseInt(dragIndex);\n\t\t\tconst newIndex = getChangeToElementIndex(blockContainer.current, oldIndex, e.clientY);\n\n\t\t\tsetCode(arrayMove(code, parseInt(dragIndex), newIndex));\n\t\t}\n\t}\n\n\tconst flagClicked = () =>\n\t{\n\t\trunCode(code, availableBlocks, \"flag\", stageRef);\n\t}\n\n\tconst trashClicked = () =>\n\t{\n\t\tsetCode([]);\n\t\tstageRef.current?.style.removeProperty(\"transform\");\n\t}\n\n\treturn (\n\t\t<div className=\"flex flex-1 flex-col h-full items-center overflow-auto\" onDrop={dropHandler} onDragOver={dragEndHandler}>\n\t\t\t<div className=\"self-end\">\n\t\t\t\t<button className=\"p-3 m-1 border rounded-full cursor-pointer active:bg-gray-100\" onClick={trashClicked}>\n\t\t\t\t\t<Icon name=\"trash\" size={20} className=\"text-red-600 \" />\n\t\t\t\t</button>\n\t\t\t\t<button className=\"p-3 m-1 self-end border rounded-full cursor-pointer active:bg-gray-100\" onClick={flagClicked}>\n\t\t\t\t\t<Icon name=\"flag\" size={20} className=\"text-green-600 \" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div ref={blockContainer}>{\n\t\t\t\tcode.map((index: number, key: number) =>\n\t\t\t\t{\n\t\t\t\t\treturn availableBlocks[index](key, true).render()\n\t\t\t\t})\n\t\t\t}</div>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\n\nexport default function CatSprite() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"95.17898101806641\"\n      height=\"100.04156036376953\"\n      viewBox=\"0.3210171699523926 0.3000000357627869 95.17898101806641 100.04156036376953\"\n      version=\"1.1\"\n      xmlSpace=\"preserve\"\n    >\n      <g>\n        <g id=\"Page-1\" stroke=\"none\" fillRule=\"evenodd\">\n          <g id=\"costume1\">\n            <g id=\"costume1.1\">\n              <g id=\"tail\">\n                <path\n                  d=\"M 21.9 73.8 C 19.5 73.3 16.6 72.5 14.2 70.3 C 8.7 65.4 7 57.3 3.2 59.4 C -0.7 61.5 -0.6 74.6 11.6 78.6 C 15.8 80 19.6 80 22.7 79.9 C 23.5 79.9 30.4 79.2 32.8 75.8 C 35.2 72.4 33.5 71.5 32.7 71.1 C 31.8 70.6 25.3 74.4 21.9 73.8 Z \"\n                  stroke=\"#001026\"\n                  strokeWidth=\"1.2\"\n                  fill=\"#FFAB19\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n                <path\n                  d=\"M 3.8 59.6 C 1.8 60.2 0.8 64.4 1.8 67.9 C 2.8 71.4 4.4 73.2 5.7 74.5 C 5.5 73.8 5.1 71.6 6.8 70.3 C 8.9 68.6 12.6 69.5 12.6 69.5 C 12.6 69.5 9.5 65.7 7.9 63 C 6.3 60.7 5.8 59.2 3.8 59.6 Z \"\n                  id=\"detail\"\n                  fill=\"#FFFFFF\"\n                  strokeWidth=\"1\"\n                />\n              </g>\n              <path\n                d=\"M37.7,81.5 C35.9,82.7 29.7,87.1 21.8,89.6 L21.4,89.7 C21,89.8 20.8,90.3 21,90.7 C22.7,93.1 25.8,97.9 20.3,99.6 C15,101.3 5.1,87.2 9.3,83.5 C11.2,82.1 12.9,82.8 13.8,83.2 C14.3,83.4 14.8,83.4 15.3,83.3 C16.5,82.9 18.7,82.1 20.4,81.2 C24.7,79 25.7,78.1 27.7,76.6 C29.7,75.1 34.3,71.4 38,74.6 C41.2,77.3 39.4,80.3 37.7,81.5 Z\"\n                id=\"leg\"\n                stroke=\"#001026\"\n                strokeWidth=\"1.2\"\n                fill=\"#FFAB19\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n              <path\n                d=\"M53.6,60.7 C54.1,61.1 60.2,68.3 62.2,66.5 C64.6,64.4 67.9,60.3 71.5,63.6 C75.1,66.9 68.3,72.5 65.4,74 C58.5,77.1 52.9,71.2 51.7,69.6 C50.5,68 48.4,65.3 48.4,62.7 C48.5,59.9 51.9,59.2 53.6,60.7 Z\"\n                id=\"arm\"\n                stroke=\"#001026\"\n                strokeWidth=\"1.2\"\n                fill=\"#FFAB19\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n              <g id=\"body-and-leg\">\n                <path\n                  d=\"M 46.2 76.7 C 47.4 75.8 48.6 74.3 50.2 72 C 51.5 70.1 52.9 66.4 52.9 66.4 C 53.8 63.9 54.4 59.1 51.1 59.2 C 48.9 59.3 46.9 59 43.5 58.5 C 37.5 57.3 36.4 56.5 33.9 60.6 C 31.2 65.4 24.3 68.9 32.8 77.2 C 32.8 77.2 37.7 81 43.6 86.8 C 47.6 90.7 53.9 96.3 56.1 98.2 C 56.6 98.6 57.2 98.8 57.8 98.9 C 67.5 99.8 74.7 98.8 74.7 94.5 C 74.7 87.3 60.4 89.8 60.4 89.8 C 60.4 89.8 55.8 85.9 53.7 84 L 46.2 76.7 Z \"\n                  id=\"body\"\n                  stroke=\"#001026\"\n                  strokeWidth=\"1.2\"\n                  fill=\"#FFAB19\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n                <path\n                  d=\"M 50.6 70 C 50.6 70 52.5 67.5 48.2 64.8 C 43.7 61.9 42 65.1 40.2 67.5 C 38.2 70.6 40.2 72.1 42.2 73.9 C 43.8 75.4 45.3 76.6 45.3 76.6 C 45.3 76.6 48.4 74.5 50.6 70 Z \"\n                  id=\"tummy\"\n                  fill=\"#FFFFFF\"\n                  strokeWidth=\"1\"\n                />\n              </g>\n              <path\n                d=\"M30.2,68.4 C32.4,71.2 35.8,74.7 31.5,77.6 C25.6,80.9 20.7,70.9 19.7,67.4 C18.8,64.3 21.4,62.3 23.6,60.6 C27.9,57.5 31.5,54.7 35.5,56.2 C40.5,58 36.9,62 34.4,63.8 C32.9,64.9 31.4,66.1 30.3,66.8 C30,67.3 29.9,67.9 30.2,68.4 Z\"\n                id=\"arm\"\n                stroke=\"#001026\"\n                strokeWidth=\"1.2\"\n                fill=\"#FFAB19\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n              <g id=\"head\">\n                <path\n                  d=\"M 53.1 9 C 50.8 8.6 48.4 8.4 45.6 8.6 C 40.9 8.8 36.4 10.5 36.4 10.5 L 24.3 2.6 C 23.9 2.4 23.4 2.7 23.5 3.1 L 25.6 21 C 26.2 20.2 15 33.8 22.1 45.2 C 29.2 56.6 44.3 61.7 63.1 58 C 81.9 54.3 86.3 43.5 85.1 37.8 C 83.9 32.1 76.8 30 76.8 30 C 76.8 30 76.7 25.5 73.5 20 C 71.6 16.7 65.2 12 65.2 12 L 62.6 1.3 C 62.5 0.9 62 0.8 61.7 1 L 53.1 9 Z \"\n                  stroke=\"#001026\"\n                  strokeWidth=\"1.2\"\n                  fill=\"#FFAB19\"\n                />\n                <path\n                  d=\"M 76.5 30.4 C 76.5 30.4 83.4 32.2 84.6 37.9 C 85.8 43.6 81 53.9 62.4 57.5 C 38.2 62.5 26.7 48.1 33.4 37.5 C 40.1 26.8 51.6 35.9 60 35.3 C 67.2 34.8 68 28.5 76.5 30.4 Z \"\n                  id=\"face\"\n                  fill=\"#FFFFFF\"\n                  strokeWidth=\"1\"\n                />\n                <path\n                  d=\"M 45 41.1 C 45 40.7 45.4 40.4 45.8 40.5 C 47.7 41.2 53.1 42.8 59.1 43.2 C 64.5 43.5 67.7 43.2 69.2 42.9 C 69.7 42.8 70.1 43.3 69.9 43.8 C 69 46.5 65.2 54 54.7 53.4 C 45.6 52.4 44.7 46 45 41.1 Z \"\n                  id=\"mouth\"\n                  stroke=\"#001026\"\n                  strokeWidth=\"1.2\"\n                  fill=\"#FFFFFF\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n                <path\n                  d=\"M 83 35.4 C 83 35.4 90.2 35.3 94.9 31.5 \"\n                  id=\"whisker\"\n                  stroke=\"#001026\"\n                  strokeWidth=\"1.2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  fill=\"none\"\n                />\n                <path\n                  d=\"M 83.4 41.3 C 83.4 41.3 87.3 43.2 93.6 42.7 \"\n                  id=\"whisker\"\n                  stroke=\"#001026\"\n                  strokeWidth=\"1.2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  fill=\"none\"\n                />\n                <path\n                  d=\"M 59.6 32.7 C 61.7 32.7 63.9 32.9 64 33.6 C 64.1 35 62.6 37.8 61 37.9 C 59.2 38.1 55 35.6 55 34 C 54.9 32.8 57.6 32.7 59.6 32.7 Z \"\n                  id=\"nose\"\n                  stroke=\"#001026\"\n                  strokeWidth=\"1.2\"\n                  fill=\"#001026\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n                <path\n                  d=\"M 14.6 31.2 C 14.6 31.2 23.2 34 26.7 37.1 \"\n                  id=\"whisker\"\n                  stroke=\"#001026\"\n                  strokeWidth=\"1.2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  fill=\"none\"\n                />\n                <path\n                  d=\"M 15.3 41.2 C 15.3 41.2 22.7 42.3 27 40.6 \"\n                  id=\"whisker\"\n                  stroke=\"#001026\"\n                  strokeWidth=\"1.2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  fill=\"none\"\n                />\n                <g id=\"eye\">\n                  <path\n                    d=\"M 71.4 21 C 74.3 25.5 74.4 30.6 71.6 32.4 C 68.8 34.2 64.2 32.1 61.2 27.6 C 58.3 23.1 58.2 18 61 16.2 C 63.8 14.3 68.5 16.5 71.4 21 Z \"\n                    id=\"pupil\"\n                    stroke=\"#001026\"\n                    strokeWidth=\"1.2\"\n                    fill=\"#FFFFFF\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  />\n                  <path\n                    d=\"M 71 26.7 C 71 27.8 70.2 28.7 69.2 28.7 C 68.2 28.7 67.4 27.8 67.4 26.7 C 67.4 25.6 68.2 24.7 69.2 24.7 C 70.2 24.7 71 25.6 71 26.7 \"\n                    id=\"pupil\"\n                    fill=\"#001026\"\n                    strokeWidth=\"1\"\n                  />\n                </g>\n                <g id=\"eye\">\n                  <path\n                    d=\"M 46.6 23.8 C 49.6 28.2 49.4 33.6 46.7 35.5 C 43.4 37.4 39 36 36 31.6 C 32.9 27.2 32.7 21.5 35.8 19.3 C 38.9 17 43.6 19.4 46.6 23.8 Z \"\n                    stroke=\"#001026\"\n                    strokeWidth=\"1.2\"\n                    fill=\"#FFFFFF\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  />\n                  <path\n                    d=\"M 46 29.6 C 46 30.7 45.2 31.6 44.2 31.6 C 43.2 31.6 42.4 30.7 42.4 29.6 C 42.4 28.5 43.2 27.6 44.2 27.6 C 45.2 27.7 46 28.5 46 29.6 \"\n                    id=\"pupil\"\n                    fill=\"#001026\"\n                    strokeWidth=\"1\"\n                  />\n                </g>\n              </g>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  );\n}\n","import { useState } from \"react\";\nimport CatSprite from \"./CatSprite\";\nimport { useCode } from '../contexts/CodeContext';\nimport { availableBlocks } from \"./Palette\";\nimport { runCode } from \"../helpers\";\nimport { forwardedRefProp } from '../Types';\nimport Icon from \"./Icon\";\n\nexport default function PreviewArea({ stageRef }: forwardedRefProp)\n{\n\tconst { code } = useCode();\n\tconst [clone, setClone] = useState<number>(1);\n\n\n\n\tconst spriteClickedHandler = () =>\n\t{\n\t\trunCode(code, availableBlocks, \"sprite\", stageRef);\n\t}\n\n\tconst cloneClickedHandler = () =>\n\t{\n\t\tsetClone(clone + 1);\n\t}\n\n\tconst sprites: JSX.Element[] = [];\n\n\tfor (var i = 0; i < clone; i++)\n\t{\n\t\tsprites.push(<CatSprite key={i} />);\n\t}\n\n\treturn (\n\t\t<div className=\"w-full\">\n\t\t\t<div className=\"flex justify-end\">\n\t\t\t\t<button className=\"p-3 m-1 border rounded-full cursor-pointer active:bg-gray-100\" onClick={cloneClickedHandler}>\n\t\t\t\t\t<Icon name=\"clone\" size={20} className=\"text-yellow-400 \" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div ref={stageRef} className=\"self-start p-2 transition-all duration-700\" onClick={spriteClickedHandler}>\n\t\t\t\t{sprites}\n\t\t\t</div>\n\t\t</div >\n\t);\n\n}\n","import { useState, useRef } from \"react\";\nimport { CodeContext } from './contexts/CodeContext';\nimport Palette from \"./components/Palette\";\nimport CodeEditor from \"./components/CodeEditor\";\nimport Stage from \"./components/Stage\";\n\nexport default function App()\n{\n\tconst [code, setCode] = useState<number[]>([]);\n\tconst stageRef = useRef<HTMLDivElement>(null);\n\n\treturn (\n\t\t<div className=\"bg-blue-100 pt-6 font-sans\">\n\t\t\t<div className=\"h-screen overflow-hidden flex flex-row  \">\n\t\t\t\t<CodeContext.Provider value={{ code, setCode }}>\n\t\t\t\t\t<div className=\"flex-1 h-screen overflow-hidden flex flex-row bg-white border-t border-r border-gray-200 rounded-tr-xl mr-2\">\n\t\t\t\t\t\t<Palette /> <CodeEditor stageRef={stageRef} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"w-1/3 h-screen overflow-hidden flex flex-row bg-white border-t border-l border-gray-200 rounded-tl-xl ml-2\">\n\t\t\t\t\t\t<Stage stageRef={stageRef} />\n\t\t\t\t\t</div>\n\t\t\t\t</CodeContext.Provider>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}